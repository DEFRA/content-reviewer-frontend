# ==================================================
# CONTENT REVIEW TOOL - FRONTEND
# Environment Configuration Template
# ==================================================
# This file serves as a template for environment variables.
# CDP will inject actual values at deployment time.
# For local development, copy this to .env and customize.
# ==================================================

# ==================================================
# ENVIRONMENT & SERVICE
# ==================================================
# CDP auto-injects: SERVICE_VERSION, ENVIRONMENT
NODE_ENV=production
ENVIRONMENT=dev
PORT=3000

# ==================================================
# BACKEND API CONFIGURATION
# ==================================================
# CDP: Set this to point to backend service URL per environment
# Format: https://content-reviewer-backend.{env}.cdp-int.defra.cloud
# Local: http://localhost:3001
BACKEND_URL=http://localhost:3001

# ==================================================
# SESSION CONFIGURATION
# ==================================================
# CDP: Use redis for all CDP environments, memory for local
SESSION_CACHE_ENGINE=redis
# CDP Secret Manager will inject this
SESSION_COOKIE_PASSWORD=

# ==================================================
# REDIS CONFIGURATION
# ==================================================
# CDP will auto-inject these based on environment
REDIS_HOST=
REDIS_USERNAME=
REDIS_PASSWORD=
REDIS_TLS=true
USE_SINGLE_INSTANCE_CACHE=false

# ==================================================
# S3 UPLOADER CONFIGURATION (via CDP-Uploader)
# ==================================================
# CDP will provide these values per environment
CDP_UPLOADER_URL=http://localhost:3001
CDP_UPLOADER_S3_BUCKET=dev-service-optimisation-c63f2
CDP_UPLOADER_S3_PATH=content-uploads

# ==================================================
# LOGGING CONFIGURATION
# ==================================================
# Development: debug + pino-pretty
# CDP: info + ecs
LOG_LEVEL=info
LOG_FORMAT=ecs
LOG_ENABLED=true

# ==================================================
# SECURITY & PERFORMANCE
# ==================================================
ENABLE_SECURE_CONTEXT=true
ENABLE_METRICS=true
STATIC_CACHE_TIMEOUT=604800000

# ==================================================
# CORS (if needed)
# ==================================================
# CDP environments typically don't need CORS as services are internal
CORS_ENABLED=false

# ==================================================
# NOTES FOR CDP DEPLOYMENT
# ==================================================
# The following variables are automatically provided by CDP:
# - SERVICE_VERSION: Injected by CDP during deployment
# - ENVIRONMENT: Set by CDP (dev, test, perf-test, prod)
# - REDIS_*: Managed Redis instance details
# - SESSION_COOKIE_PASSWORD: From CDP Secrets Manager
#
# You only need to configure:
# - BACKEND_URL: Per-environment backend service URL
# - CDP_UPLOADER_S3_BUCKET: Environment-specific S3 bucket
# - LOG_LEVEL: Adjust per environment if needed
# ==================================================
